<div [class]="wrapperClasses">
  <div class="u86-checkbox__wrapper">
    <input
      type="checkbox"
      [class]="checkboxClasses"
      [id]="id"
      [name]="name"
      [checked]="checked"
      [disabled]="disabled"
      [required]="required"
      [indeterminate]="indeterminate"
      [attr.aria-invalid]="error ? 'true' : null"
      [attr.aria-describedby]="
        error ? id + '-error' : hint ? id + '-hint' : null
      "
      (change)="onCheckboxChange($event)"
    />

    <div
      class="u86-checkbox__checkmark"
      [class.u86-checkbox__checkmark--indeterminate]="indeterminate"
    >
      @if (!indeterminate) {
      <svg
        class="u86-checkbox__check-icon"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd"
        />
      </svg>
      } @else {
      <svg
        class="u86-checkbox__indeterminate-icon"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
          clip-rule="evenodd"
        />
      </svg>
      }
    </div>

    @if (label) {
    <label class="u86-checkbox__label" [for]="id">
      {{ label }}
      @if (required) {
      <span class="u86-checkbox__required" aria-hidden="true">*</span>
      }
    </label>
    }
  </div>

  @if (hint && !error) {
  <div class="u86-checkbox__hint" [id]="id + '-hint'">
    {{ hint }}
  </div>
  } @if (error) {
  <div class="u86-checkbox__error" [id]="id + '-error'" role="alert">
    {{ error }}
  </div>
  }
</div>
