<div [class]="wrapperClasses">
  @if (label) {
  <label class="u86-select__label" [for]="id">
    {{ label }}
    @if (required) {
    <span class="u86-select__required" aria-hidden="true">*</span>
    }
  </label>
  }

  <div class="u86-select__wrapper">
    <select
      [class]="selectClasses"
      [id]="id"
      [name]="name"
      [disabled]="disabled"
      [required]="required"
      [attr.aria-invalid]="error ? 'true' : null"
      [attr.aria-describedby]="
        error ? id + '-error' : hint ? id + '-hint' : null
      "
      [value]="value ?? ''"
      (change)="
        selectOption({
          value: $any($event.target).value,
          label: $any($event.target).selectedOptions[0]?.text || ''
        })
      "
      (blur)="onTouched()"
    >
      @if (placeholder && !value) {
      <option value="" disabled>{{ placeholder }}</option>
      } @for (option of options; track option.value) {
      <option [value]="option.value" [disabled]="option.disabled">
        {{ option.label }}
      </option>
      }
    </select>

    <div class="u86-select__icon" aria-hidden="true">
      <svg viewBox="0 0 20 20" fill="currentColor">
        <path
          fill-rule="evenodd"
          d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
          clip-rule="evenodd"
        />
      </svg>
    </div>
  </div>

  @if (hint && !error) {
  <div class="u86-select__hint" [id]="id + '-hint'">
    {{ hint }}
  </div>
  } @if (error) {
  <div class="u86-select__error" [id]="id + '-error'" role="alert">
    {{ error }}
  </div>
  }
</div>
